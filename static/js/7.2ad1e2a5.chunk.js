(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[7],{297:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(16),a=n(0),c=n.n(a),o=n(13),s=n.n(o);function u(t){var e=t.children,n=t.className,o=void 0===n?"root-portal":n,u=t.el,i=void 0===u?"div":u,l=c.a.useState((function(){return document.createElement(i)})),d=Object(r.a)(l,1)[0];return Object(a.useEffect)((function(){return d.classList.add(o),document.body.appendChild(d),function(){d.remove()}}),[o,d]),s.a.createPortal(e,d)}},299:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));var r={DELETE:"deleted",POST:"posted",ADD:"added"},a=5600},309:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(16),a=n(0),c=n(489),o=n(494),s=n(487),u=n(297),i=n(5);function l(t){var e=t.id,n=t.actionType,l=Object(a.useState)(10),d=Object(r.a)(l,2),b=d[0],f=d[1];return Object(a.useEffect)((function(){var t=setInterval((function(){f((function(t){return t>=100?0:t+15}))}),800);return function(){return clearInterval(t)}}),[]),Object(i.jsx)(u.a,{children:Object(i.jsx)(c.a,{sx:{marginTop:"60px"},open:!0,autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(i.jsxs)(s.a,{severity:"success",sx:{width:"100%"},children:["Post with id ",e," has been ",n," successfully!",Object(i.jsx)(o.a,{variant:"determinate",color:"success",value:Number(b)})]})})},e)}},451:function(t,e,n){},490:function(t,e,n){"use strict";n.r(e);var r=n(23),a=n(278),c=n.n(a),o=n(279),s=n(16),u=n(0),i=n(74),l=n(44),d=n(281),b=n(287),f=n(486),p=n(482),h=function(){var t=Object(o.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://jsonplaceholder.typicode.com/posts/",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(o.a)(c.a.mark((function t(e,n){var r,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=["https://jsonplaceholder.typicode.com/posts","https://jsonplaceholder.typicode.com/users/"].map((function(t){return fetch(t,{method:"GET"})})),a=[],t.next=5,Promise.all(r).then((function(t){var e=t.filter((function(t){return!t.ok}));if(e.length>0)throw e.map((function(t){return Error(t.statusText)}));var n=t.map((function(t){return t.json()}));return Promise.all(n)})).then((function(t){return t.forEach((function(t,r){return 0===r?e(Date.now()):n(t.length+1)}))})).catch((function(t){t.forEach((function(t){return console.error(t)}))}));case 5:return t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),m=n(286),O=m.a().shape({title:m.c().required("Oh, I think you forgot your title..."),body:m.c().required("Don't be shy, add some context to your post \ud83d\ude03")}),v=n(122),y=n(62),x=n(149),_=n(309),w=n(299),g=(n(451),n(5));var T=Object(l.b)({author:x.b});e.default=Object(i.b)(T)((function(t){var e,n=t.author,a=Object(u.useState)(!1),i=Object(s.a)(a,2),l=i[0],m=i[1],x=Object(u.useState)(null),T=Object(s.a)(x,2),S=T[0],k=T[1],E=Object(u.useState)(null),N=Object(s.a)(E,2),C=N[0],D=N[1],P=Object(u.useState)({status:"Add post",btnColor:"primary",disabled:!1}),I=Object(s.a)(P,2),R=I[0],A=I[1],J={resolver:Object(b.a)(O)},q=Object(d.d)(J),z=q.register,F=q.handleSubmit,L=q.formState.errors;Object(u.useEffect)((function(){var t;return j(k,D),l&&(t=setTimeout((function(){return m(!1)}),5600)),function(){return clearTimeout(t)}}),[l]);var B=Object(u.useCallback)(function(){var t=Object(o.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[]),G=Object(u.useCallback)(function(){var t=Object(o.a)(c.a.mark((function t(e){var r,a,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.title,a=e.body,m(!0),o={userId:C,author:n.fullName,id:S,title:r,body:a},y.b.dispatch(Object(v.a)(o)),t.prev=4,t.next=7,B(o);case 7:A({status:"Success! Post added",btnColor:"default",disabled:!0}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),A({status:"'Error': ".concat(t.t0),btnColor:"secondary",disabled:!1});case 13:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}(),[n.fullName,S,C,B]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h2",{className:"form___header",children:"Create post"}),Object(g.jsxs)("form",{onSubmit:F(G),className:"form___main",children:[Object(g.jsx)(f.a,Object(r.a)({type:"text",error:!!L.title,margin:"normal",variant:"outlined",className:"input___field",label:"Blogpost Title",multiline:!0,minRows:1,maxRows:2},z("title"))),L.title&&Object(g.jsx)("p",{children:"Title cannot be empty!"}),Object(g.jsx)(f.a,Object(r.a)({type:"text",error:!!L.body,margin:"normal",variant:"outlined",className:"input___field",label:"What's that you would like to share with us today?",multiline:!0,minRows:10,maxRows:10},z("body"))),L.body&&Object(g.jsx)("p",{children:null===(e=L.body)||void 0===e?void 0:e.message}),Object(g.jsx)(p.a,{tabIndex:"-1",style:{marginTop:"0.5em"},className:".submit___button___add___post",type:"submit",color:R.btnColor,size:"large",disabled:R.disabled,variant:"contained",children:R.status}),l?Object(g.jsx)("div",{children:Object(g.jsx)(_.a,{id:S,actionType:w.a.ADD})}):null]})]})}))}}]);
//# sourceMappingURL=7.2ad1e2a5.chunk.js.map