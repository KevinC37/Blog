(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{137:function(t,e,n){"use strict";function r(t){return"".concat(t[0].toUpperCase()).concat(t.slice(1).toLowerCase())}n.d(e,"a",(function(){return r}))},139:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return a}));var r=function(t){return{type:"POSTS/ADD_POST",payload:{id:t.id,title:t.title,body:t.body,userId:t.userId,user:{name:t.author}}}},c=function(t){return{type:"POSTS/REMOVE_POST",payload:{id:t}}},a=function(t){return{type:"POSTS/EDIT_POST",payload:{id:t.id,title:t.title,body:t.body}}}},140:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return c}));var r={DELETE:"deleted",POST:"posted",ADD:"added"},c=5600},150:function(t,e,n){},152:function(t,e,n){"use strict";n(0),n(197);var r=n(2);e.a=function(){return Object(r.jsx)("div",{children:"Page not found! :("})}},175:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(10),c=n(0),a=n(342),o=n(341),s=n(344),i=n(176),u=n(2);function l(t){var e=Object(c.useState)(10),n=Object(r.a)(e,2),l=n[0],b=n[1];return Object(c.useEffect)((function(){var t=setInterval((function(){b((function(t){return t>=100?0:t+15}))}),800);return function(){return clearInterval(t)}}),[]),Object(u.jsx)(i.a,{children:Object(u.jsx)(a.a,{sx:{marginTop:"60px"},open:!0,autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(u.jsxs)(o.a,{severity:"success",sx:{width:"100%"},children:["Post with id ",t.id," has been ",t.actionType," successfully!",Object(u.jsx)(s.a,{variant:"determinate",color:"success",value:Number(l)})]})})},t.id)}},176:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(10),c=n(0),a=n.n(c),o=n(17),s=n.n(o),i=function(t){var e=t.children,n=t.className,o=void 0===n?"root-portal":n,i=t.el,u=void 0===i?"div":i,l=a.a.useState((function(){return document.createElement(u)})),b=Object(r.a)(l,1)[0];return Object(c.useEffect)((function(){return b.classList.add(o),document.body.appendChild(b),function(){b.remove()}}),[o,b]),s.a.createPortal(e,b)}},197:function(t,e,n){},329:function(t,e,n){},331:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n(17),a=n.n(c),o=n(42),s=n(13),i=n(74),u=n(71),l=n(180),b=n(120),j=n(392),d=n(393),O=n(394),f=n(395),h=n(396),p=(n(150),n(10)),m=n(47),x=n(137),y=n(400),v=n(184),g=n.n(v),S=n(192),_=n(402),N=n(387),T=n(388),w=n(185),E=n.n(w),k=n(183),D=n.n(k),P=n(2),C=Object(r.forwardRef)((function(t,e){var n=Object(r.useState)(e),c=Object(p.a)(n,2),a=c[0],s=c[1],i=Boolean(a),l=t.handleClose;Object(r.useEffect)((function(){return s(e),function(){s(null)}}),[e]);return Object(P.jsxs)(S.a,{open:i,anchorEl:a,onClick:l,disableScrollLock:!0,children:[Object(P.jsx)(o.b,{to:"/blog",children:Object(P.jsxs)(_.a,{children:[Object(P.jsx)(N.a,{children:Object(P.jsx)(D.a,{})}),"Home"]})}),Object(P.jsx)(o.b,{to:"/add-post",children:Object(P.jsxs)(_.a,{children:[Object(P.jsx)(N.a,{children:Object(P.jsx)(g.a,{})}),"Add post"]})}),Object(P.jsx)(T.a,{}),Object(P.jsxs)(_.a,{onClick:function(){return u.b.dispatch({type:"USER/LOG_OUT"})},children:[Object(P.jsx)(N.a,{children:Object(P.jsx)(E.a,{fontSize:"small"})}),"Logout"]})]})})),I=Object(m.a)([function(t){return t.user.auth},function(t){return!!t.user.email}],(function(t,e){return t?"AUTHENTIFIED":e?"LOG_IN":"SIGN_UP"})),L=function(t){return t.user.firstName},R=function(t){return t.user.lastName},U=Object(m.a)([L],(function(t){return{firstName:t}})),z=(Object(m.a)([R],(function(t){return{lastName:t}})),Object(m.a)([L,R],(function(t,e){return{fullName:"".concat(t," ").concat(e)}}))),F=Object(j.a)((function(t){return{user___profile:{display:"flex",textDecoration:"none",color:"white",fontSize:"1rem",marginLeft:t.spacing(10)},navlinks:{marginLeft:t.spacing(10),display:"flex",cursor:"pointer",listStyle:"none"},link:{textDecoration:"none",color:"white",fontSize:"1rem",marginLeft:t.spacing(10),"&:hover":{color:"yellow",borderBottom:"1px solid white"}}}}));var A=Object(m.b)({authStatus:I,user:U}),G=Object(i.b)(A)((function(t){var e=t.authStatus,n=t.user,c=F(),a=n.firstName,s=Object(r.useRef)(null),i=Object(r.useState)(null),u=Object(p.a)(i,2),l=u[0],b=u[1];Object(r.useEffect)((function(){}),[e]);var j=Object(r.useCallback)((function(t){s.current.contains(t.target)&&b(s.current)}),[]),d=Object(r.useCallback)((function(t){return b(null)}),[]);return Object(P.jsxs)("ul",{className:c.navlinks,children:[Object(P.jsx)("li",{children:"AUTHENTIFIED"===e?Object(P.jsxs)("div",{ref:s,onClick:function(t){return j(t)},className:c.user___profile,children:[Object(P.jsx)(y.a,{className:"avatar"}),Object(P.jsx)("span",{children:a?Object(x.a)(a):""}),l?Object(P.jsx)(C,{handleClose:d,ref:l}):Object(P.jsx)(P.Fragment,{})]}):"LOG_IN"===e?Object(P.jsx)(o.b,{to:"/login",className:c.link,children:"Log in"}):Object(P.jsx)(o.b,{to:"/signup",className:c.link,children:"Sign up"})}),Object(P.jsx)("li",{children:Object(P.jsx)(o.b,{to:"/about",className:c.link,children:"About"})}),Object(P.jsx)("li",{children:Object(P.jsx)(o.b,{to:"/contact",className:c.link,children:"Contact Us"})})]})})),B=Object(j.a)((function(t){return{logo:{flexGrow:"1"},logoLink:{textDecoration:"none",color:"white"}}}));var H=function(){var t=B();return Object(P.jsxs)(d.a,{position:"fixed",children:[Object(P.jsx)(O.a,{}),Object(P.jsxs)(f.a,{children:[Object(P.jsx)(h.a,{href:"#",variant:"h4",className:t.logo,children:Object(P.jsx)(o.b,{to:"/blog",className:t.logoLink,children:"Terranet"})}),Object(P.jsx)("nav",{children:Object(P.jsx)(G,{})})]})]})},M=n(152),V=function(t){t&&t instanceof Function&&n.e(10).then(n.bind(null,429)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,o=e.getTTFB;n(t),r(t),c(t),a(t),o(t)}))},X=n(14),q=n.n(X),J=n(26),Q=n(32),W=n(60),K=n(136),Y=n(398),Z=n(397),$=function(){var t=Object(Q.a)(q.a.mark((function t(e){return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://jsonplaceholder.typicode.com/posts/",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),tt=function(){var t=Object(Q.a)(q.a.mark((function t(e,n){var r,c;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=["https://jsonplaceholder.typicode.com/posts","https://jsonplaceholder.typicode.com/users/"].map((function(t){return fetch(t,{method:"GET"})})),c=[],t.next=5,Promise.all(r).then((function(t){var e=t.filter((function(t){return!t.ok}));if(e.length>0)throw e.map((function(t){return Error(t.statusText)}));var n=t.map((function(t){return t.json()}));return Promise.all(n)})).then((function(t){return t.forEach((function(t,r){return 0===r?e(Date.now()):n(t.length+1)}))})).catch((function(t){t.forEach((function(t){return console.error(t)}))}));case 5:return t.abrupt("return",c);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),et=n(94),nt=et.a().shape({title:et.c().required("Oh, I think you forgot your title..."),body:et.c().required("Don't be shy, add some context to your post \ud83d\ude03")}),rt=n(139),ct=n(175),at=n(140);n(329);var ot=Object(m.b)({author:z}),st=Object(i.b)(ot)((function(t){var e,n=t.author,c=Object(r.useState)(!1),a=Object(p.a)(c,2),o=a[0],s=a[1],i=Object(r.useState)(null),l=Object(p.a)(i,2),b=l[0],j=l[1],d=Object(r.useState)(null),O=Object(p.a)(d,2),f=O[0],h=O[1],m=Object(r.useState)({status:"Add post",btnColor:"primary",disabled:!1}),x=Object(p.a)(m,2),y=x[0],v=x[1],g={resolver:Object(K.a)(nt)},S=Object(W.d)(g),_=S.register,N=S.handleSubmit,T=S.formState.errors;function w(t){return E.apply(this,arguments)}function E(){return(E=Object(Q.a)(q.a.mark((function t(e){return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$(e);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){return(k=Object(Q.a)(q.a.mark((function t(e){var r;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),r={userId:f,author:n.fullName,id:b,title:e.title,body:e.body},u.b.dispatch(Object(rt.a)(r)),t.prev=3,t.next=6,w(r);case 6:v({status:"Success! Post added",btnColor:"default",disabled:!0}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),v({status:"'Error': ".concat(t.t0),btnColor:"secondary",disabled:!1});case 12:case"end":return t.stop()}}),t,null,[[3,9]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){var t;return tt(j,h),o&&(t=setTimeout((function(){return s(!1)}),5600)),function(){return clearTimeout(t)}}),[o,y]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("h2",{className:"form___header",children:"Create post"}),Object(P.jsxs)("form",{onSubmit:N((function(t){return k.apply(this,arguments)})),className:"form___main",children:[Object(P.jsx)(Y.a,Object(J.a)({type:"text",error:!!T.title,margin:"normal",variant:"outlined",className:"input___field",label:"Blogpost Title",multiline:!0,minRows:1,maxRows:2},_("title"))),T.title&&Object(P.jsx)("p",{children:"Title cannot be empty!"}),Object(P.jsx)(Y.a,Object(J.a)({type:"text",error:!!T.body,margin:"normal",variant:"outlined",className:"input___field",label:"What's that you would like to share with us today?",multiline:!0,minRows:10,maxRows:10},_("body"))),T.body&&Object(P.jsx)("p",{children:null===(e=T.body)||void 0===e?void 0:e.message}),Object(P.jsx)(Z.a,{tabIndex:"-1",style:{marginTop:"0.5em"},className:".submit___button___add___post",type:"submit",color:y.btnColor,size:"large",disabled:y.disabled,variant:"contained",children:y.status}),o?Object(P.jsx)("div",{children:Object(P.jsx)(ct.a,{id:b,actionType:at.a.ADD})}):Object(P.jsx)(P.Fragment,{})]})]})})),it=Object(r.lazy)((function(){return n.e(6).then(n.bind(null,432))})),ut=Object(r.lazy)((function(){return n.e(5).then(n.bind(null,433))})),lt=Object(r.lazy)((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,431))})),bt=Object(r.lazy)((function(){return n.e(9).then(n.bind(null,434))})),jt=Object(r.lazy)((function(){return n.e(8).then(n.bind(null,427))})),dt=Object(r.lazy)((function(){return n.e(7).then(n.bind(null,428))})),Ot=new b.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,retryDelay:function(t){return Math.min(1e3*Math.pow(2,t),3e4)},suspense:!0}}});a.a.render(Object(P.jsx)(i.a,{store:u.b,children:Object(P.jsx)(b.QueryClientProvider,{client:Ot,children:Object(P.jsx)(r.Suspense,{fallback:Object(P.jsx)("span",{children:"Loading..."}),children:Object(P.jsx)(o.a,{children:Object(P.jsxs)(l.a,{persistor:u.a,children:[Object(P.jsx)(H,{}),Object(P.jsxs)(s.c,{children:[Object(P.jsx)(s.a,{path:"*",element:Object(P.jsx)(M.a,{})}),Object(P.jsx)(s.a,{path:"/signup",element:Object(P.jsx)(it,{})}),Object(P.jsx)(s.a,{path:"/login",element:Object(P.jsx)(ut,{})}),Object(P.jsx)(s.a,{exact:!0,path:"/blog",element:Object(P.jsx)(lt,{})}),Object(P.jsx)(s.a,{exact:!0,path:"/about",element:Object(P.jsx)(dt,{})}),Object(P.jsx)(s.a,{exact:!0,path:"/contact",element:Object(P.jsx)(jt,{})}),Object(P.jsx)(s.a,{path:"/posts/:slug",element:Object(P.jsx)(bt,{})}),Object(P.jsx)(s.a,{path:"/add-post",element:Object(P.jsx)(st,{})})]})]})})})})}),document.getElementById("root")),V()},71:function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return p}));var r=n(62),c=n(115),a=n(178),o=n.n(a),s=n(11),i=n(26),u={posts:[]},l=function(t,e){return t.title=e.title,t.body=e.body,t},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"POSTS/ADD_POST":return Object(i.a)(Object(i.a)({},t),{},{posts:[].concat(Object(s.a)(t.posts),[e.payload])});case"POSTS/REMOVE_POST":return Object(i.a)(Object(i.a)({},t),{},{posts:t.posts.filter((function(t){return t.id!==e.payload.id}))});case"POSTS/EDIT_POST":return Object(i.a)(Object(i.a)({},t),{},{posts:t.posts.map((function(t){return Number(t.id)===Number(e.payload.id)?t=l(t,e.payload):t}))});default:return t}},j={auth:!1,email:null,firstName:null,lastName:null,password:null},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"USER/SET_CREDENTIALS":return Object(i.a)(Object(i.a)({},t),{},{email:e.payload.email,firstName:e.payload.firstName,lastName:e.payload.lastName,password:e.payload.password});case"USER/LOGIN":return Object(i.a)(Object(i.a)({},t),{},{auth:!0});case"USER/LOG_OUT":return Object(i.a)(Object(i.a)({},t),{},{auth:!1});default:return t}},O={key:"root",storage:o.a,whitelist:["user","post"]},f=Object(r.a)({post:b,user:d}),h=Object(c.a)(O,f),p=Object(r.b)(h,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),m=Object(c.b)(p)}},[[331,1,2]]]);
//# sourceMappingURL=main.d50ca566.chunk.js.map